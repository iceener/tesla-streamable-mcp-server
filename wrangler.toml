name = "tesla-mcp"
main = "src/worker.ts"
compatibility_date = "2025-06-18"
workers_dev = true
compatibility_flags = ["nodejs_compat"]

[vars]
# MCP protocol
MCP_PROTOCOL_VERSION = "2025-06-18"
MCP_TITLE = "Tesla"
MCP_VERSION = "1.0.0"

# Auth: require Bearer token for client connections
AUTH_ENABLED = "true"
AUTH_STRATEGY = "bearer"

# Environment
NODE_ENV = "development"

# DO NOT store secrets in [vars]; set via `wrangler secret put`
#
# Required secrets:
#   # Generate a random token for client auth:
#   openssl rand -hex 32
#   wrangler secret put BEARER_TOKEN
#
#   # Tessie API credentials:
#   wrangler secret put TESSIE_ACCESS_TOKEN
#   wrangler secret put TESSIE_VIN

[[kv_namespaces]]
binding = "TOKENS"
# Create with: wrangler kv:namespace create TOKENS
# Replace with your KV namespace ID:
id = "YOUR_KV_NAMESPACE_ID"
